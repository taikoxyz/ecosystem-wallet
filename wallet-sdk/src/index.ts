import { AppMetadata, Client, ThirdPartyAuthProvider } from "@openfort/ecosystem-js/client";

class EcosystemWallet extends Client {
    constructor(appMetadata?: AppMetadata, preview = true) {
        super({
            baseConfig: {
                ecosystemWalletDomain: preview ? 'https://wallet.taiko.xyz/' : 'https://wallet.sample.openfort.io/',
                windowStrategy: 'iframe',
            },
            appMetadata,
            appearance: {
                icon: 'data:image/svgxml;base64,PHN2ZyB3aWR0aD0iMjU2IiBoZWlnaHQ9IjI1NiIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMzJfNCkiPgo8Y2lyY2xlIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyOCIgZmlsbD0iI0U4MTg5OSIvPgo8cGF0aCBkPSJNMjAwLjgwNiAxNjEuMDRMMTc0Ljc2IDEyNi4zNThDMTcxLjkzIDEyMi41OSAxNjcuNzQgMTIwLjMzMiAxNjMuMjc5IDExOS44MzRDMTYyLjI2MyAxMTkuNzE5IDE2MS4zNTYgMTE5LjE0MSAxNjAuODQ4IDExOC4yN0MxNjAuMzMxIDExNy4zOTkgMTYwLjI3NyAxMTYuMzQxIDE2MC42ODUgMTE1LjQxN0MxNjIuNDcxIDExMS4zODIgMTYyLjU4IDEwNi42OTggMTYwLjY1OCAxMDIuNDE0TDE0My4wMzYgNjIuOTY4MUMxNDAuNDI1IDU3LjExMDggMTM0LjUyMSA1My4zMzMzIDEyOCA1My4zMzMzQzEyMS40NzkgNTMuMzMzMyAxMTUuNTc1IDU3LjExOTcgMTEyLjk2NCA2Mi45NjgxTDk1LjM0MjQgMTAyLjQxNEM5My40Mjg4IDEwNi42OTggOTMuNTI4NiAxMTEuMzgyIDk1LjMxNTIgMTE1LjQxN0M5NS43MjMzIDExNi4zNDEgOTUuNjU5OCAxMTcuMzk5IDk1LjE1MiAxMTguMjdDOTQuNjM1IDExOS4xNDEgOTMuNzM3MiAxMTkuNzE5IDkyLjcyMTUgMTE5LjgzNEM4OC4yNTk1IDEyMC4zMzIgODQuMDY5NiAxMjIuNTkgODEuMjQwMSAxMjYuMzU4TDU1LjE5MzggMTYxLjA0QzUxLjMzMDQgMTY2LjE4NiA1MC45NDA0IDE3My4wODMgNTQuMTk2MiAxNzguNjIxQzU3LjQ2MTEgMTg0LjE0OSA2My43NTUgMTg3LjI2OSA3MC4yMzAzIDE4Ni41NjdMMTEzLjg5OCAxODEuODAyQzExOC42NDEgMTgxLjI4NyAxMjIuNzMxIDE3OC44NiAxMjUuMzk3IDE3NS4zMjNDMTI2LjAwNSAxNzQuNTE0IDEyNi45NzUgMTc0LjAzNCAxMjggMTc0LjAzNEMxMjkuMDI1IDE3NC4wMzQgMTI5Ljk4NiAxNzQuNTE0IDEzMC42MDMgMTc1LjMyM0MxMzMuMjY5IDE3OC44NiAxMzcuMzU5IDE4MS4yODcgMTQyLjEwMiAxODEuODAyTDE4NS43NyAxODYuNTY3QzE5Mi4yNDUgMTg3LjI3OCAxOTguNTM5IDE4NC4xNTggMjAxLjgwNCAxNzguNjIxQzIwNS4wNiAxNzMuMDgzIDIwNC42NyAxNjYuMTg2IDIwMC44MDYgMTYxLjA0Wk0xMDYuNzMzIDEwNy4zNjRMMTI0LjM4MSA2Ny44NzQzQzEyNS4wMTYgNjYuNDYxMSAxMjYuNDQgNjUuNTQ1NiAxMjguMDA5IDY1LjU0NTZDMTI5LjU3OCA2NS41NDU2IDEzMS4wMDIgNjYuNDYxMSAxMzEuNjM3IDY3Ljg3NDNMMTQ5LjI4NSAxMDcuMzY0QzE0OS44MzggMTA4LjYwOSAxNDkuNzIgMTEwLjA0OSAxNDguOTU5IDExMS4xODZDMTQ4LjE5NyAxMTIuMzI0IDE0Ni45MDkgMTEzLjAwOCAxNDUuNTEyIDExMy4wMDhIMTEwLjQ5N0MxMDkuMTA5IDExMy4wMDggMTA3LjgxMiAxMTIuMzI0IDEwNy4wNTEgMTExLjE4NkMxMDYuMjg5IDExMC4wNDkgMTA2LjE3MSAxMDguNjA5IDEwNi43MjQgMTA3LjM2NEgxMDYuNzMzWk0xMTUuNzkzIDE2Ny40ODRDMTE1LjE2NyAxNjguNzAxIDExMy45NTIgMTY5LjUxOSAxMTIuNTc0IDE2OS42N0w2OC44NjA4IDE3NC40MzRDNjcuMzAxIDE3NC42MDMgNjUuNzc3NCAxNzMuODU2IDY0Ljk4ODQgMTcyLjUyM0M2NC4xOTk0IDE3MS4xOSA2NC4yOTkxIDE2OS41MjggNjUuMjMzMiAxNjguMjg0TDkxLjMwNjcgMTMzLjU2N0M5Mi4xMzIgMTMyLjQ3MyA5My40NTYxIDEzMS44NTEgOTQuODQzNiAxMzEuOTMxQzk2LjIzMTIgMTMyLjAwMiA5Ny40ODI3IDEzMi43NTggOTguMTgxIDEzMy45NEw5OC4yMDgyIDEzMy45ODRMMTE1LjY2NiAxNjMuNjE3TDExNS42OTMgMTYzLjY2MkMxMTYuMzkyIDE2NC44NDQgMTE2LjQyOCAxNjYuMjg0IDExNS44MDIgMTY3LjQ5M0wxMTUuNzkzIDE2Ny40ODRaTTEzMS41OTEgMTU0LjA4QzEzMC44NDggMTU1LjMzNCAxMjkuNDg3IDE1Ni4xMTYgMTI4IDE1Ni4xMTZDMTI2LjUyMiAxNTYuMTE2IDEyNS4xNTIgMTU1LjM0MiAxMjQuNDA5IDE1NC4wODlMMTEwLjk5NiAxMzEuMzI3QzExMC4yNTIgMTMwLjA3NCAxMTAuMjUyIDEyOC41MTggMTEwLjk5NiAxMjcuMjY1QzExMS43MzkgMTI2LjAxMiAxMTMuMSAxMjUuMjI5IDExNC41ODcgMTI1LjIyOUgxNDEuNDA0QzE0Mi44ODIgMTI1LjIyOSAxNDQuMjUyIDEyNS45OTQgMTQ0Ljk5NSAxMjcuMjU2QzE0NS43MzkgMTI4LjUxOCAxNDUuNzM5IDEzMC4wNjUgMTQ0Ljk5NSAxMzEuMzE4TDEzMS41OTEgMTU0LjA4Wk0xOTEuMDIxIDE3Mi41MjNDMTkwLjIzMiAxNzMuODU2IDE4OC43MTcgMTc0LjYxMiAxODcuMTQ4IDE3NC40NDNMMTQzLjQzNSAxNjkuNjc5QzE0Mi4wNTcgMTY5LjUyOCAxNDAuODQyIDE2OC43MSAxNDAuMjE2IDE2Ny40OTNDMTM5LjU5IDE2Ni4yNzUgMTM5LjYyNiAxNjQuODM1IDE0MC4zMjUgMTYzLjY2MkwxNDAuMzUyIDE2My42MTdMMTU3LjgxIDEzMy45ODRMMTU3LjgzNyAxMzMuOTRDMTU4LjUzNSAxMzIuNzU4IDE1OS43ODcgMTMyLjAwMiAxNjEuMTc1IDEzMS45MzFDMTYyLjU2MiAxMzEuODYgMTYzLjg4NiAxMzIuNDczIDE2NC43MTEgMTMzLjU2N0wxOTAuNzg1IDE2OC4yODRDMTkxLjcxOSAxNjkuNTI4IDE5MS44MSAxNzEuMTkgMTkxLjAzIDE3Mi41MjNIMTkxLjAyMVoiIGZpbGw9IiNGQUZBRkEiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMzJfNCI+CjxyZWN0IHdpZHRoPSIyNTYiIGhlaWdodD0iMjU2IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=',
                logo: 'https://storage.googleapis.com/trailblazer-cdn/brand/Taiko%20Logos/TKO_Icon/Pngs/Tko_512x512.png',
                name: 'Taiko Wallet',
                reverseDomainNameSystem: 'xyz.taiko.wallet'
            }
        });

        // Use a Proxy to allow for new method additions
        return new Proxy(this, {
            get: (target, prop) => {
                if (prop in target) {
                    const value = target[prop as keyof EcosystemWallet];
                    return typeof value === 'function' ? value.bind(target) : value;
                }
                return undefined;
            }
        });
    }

    // Add new methods here
    setPolicy(options?: { policy?: string; }): void {
        return super.setPolicy(options);
    }

}

export default EcosystemWallet;
